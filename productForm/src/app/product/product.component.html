<h1 class="text-center">Product</h1>
<div class="row">
    <div class="col-md-4 col-sm-12 d-flex justify-content-center">
        <mat-card class="example-card forms" *ngIf="showform">
            <mat-card-content class="text-center">
                <form [formGroup]="addForm" (ngSubmit)="submit()" novalidate>
                    <div formArrayName="products">
                        <tr *ngFor="let product of addForm.controls['products']['controls']; let i=index" [formGroupName]="i">
                            <h2>Product {{i+1}}</h2>
                            <div class="text-center">
                                <mat-form-field class="example-full-width" appearance="fill">
                                    <mat-label>Product Name:</mat-label>
                                    <input type="text" matInput required formControlName="name" placeholder="Product name">
                                    <mat-error *ngIf="name.hasError('required')">
                                        Product name is <strong>required</strong>
                                    </mat-error>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field class="example-full-width" appearance="fill">
                                    <mat-label>Category:</mat-label>
                                    <input type="text" matInput required formControlName="category" placeholder="Category">
                                    <mat-error *ngIf="category.hasError('required')">
                                        Category is <strong>required</strong>
                                    </mat-error>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field class="example-full-width" appearance="fill">
                                    <mat-label>Price:</mat-label>
                                    <input type="text" matInput required formControlName="price" placeholder="Price">
                                    <mat-error *ngIf="price.hasError('required')">
                                        Price is <strong>required</strong>
                                    </mat-error>
                                </mat-form-field>
                            </div>
                            <div>
                                <mat-form-field class="example-full-width" appearance="fill">
                                    <mat-label>Description</mat-label>
                                    <textarea matInput placeholder="About product....." required formControlName="description"></textarea>
                                    <mat-error *ngIf="description.hasError('required')">
                                        Description is <strong>required</strong>
                                    </mat-error>
                                </mat-form-field>
                            </div>
                        </tr>
                    </div>
                    <div class="text-center"><button [disabled]="!(addForm.touched && addForm.valid)" mat-raised-button>Submit</button></div>
                </form>
            </mat-card-content>
            <mat-card-actions>
                <div class="text-center"><button (click)="addnewP()" mat-raised-button color="primary">+</button></div>
            </mat-card-actions>
        </mat-card>
    </div>
    <div class="col-md-8 col-sm-12">
        <div class="container mt-5">
            <h2>List Of Product</h2>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>No.</th>
                        <th>Name</th>
                        <th>Price</th>
                        <th>Category</th>
                        <th>Description</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor=" let u of data let i=index">
                        <td>{{ i+1 }}</td>
                        <td>{{ u.name}}</td>
                        <td>{{ u.price }}</td>
                        <td>{{ u.category }}</td>
                        <td>{{ u.description }}</td>
                        <td class="icons">
                            <mat-icon aria-hidden="false" aria-label="Example home icon" (click)="edit(u)" routerLink="/productlist">edit
                            </mat-icon>
                            <mat-icon aria-hidden="false" aria-label="Example home icon" (click)="remove(u)">delete
                            </mat-icon>
                        </td>
                        <td class="buttons">
                            <button type="button" mat-raised-button (click)="edit(u)" routerLink="/productlist" class="editbutton">Edit</button>
                            <button type="button" mat-raised-button (click)="remove(u)">Delete</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>